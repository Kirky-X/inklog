# cargo-deny 配置
[advisories]
db-urls = ["https://github.com/rustsec/advisory-db"]
# 忽略非关键的安全警告（这些是 transitive 依赖的问题）
ignore = [
    "RUSTSEC-2024-0436", # paste unmaintained (dev dependency)
    "RUSTSEC-2025-0134", # rustls-pemfile unmaintained (dev dependency)
    "RUSTSEC-2023-0071", # rsa Marvin Attack (sqlx transitive dependency, no fix available)
    "RUSTSEC-2023-0086", # lexical-core soundness issues (parquet transitive dependency, no easy fix)
    "RUSTSEC-2021-0145", # atty unaligned read (transitive from supports-color, no safe fix)
    "RUSTSEC-2024-0375", # atty unmaintained (transitive from supports-color, no safe upgrade)
]

[licenses]
allow = [
    "MIT",
    "Apache-2.0",
    "Apache-2.0 WITH LLVM-exception",
    "BSD-2-Clause",
    "BSD-3-Clause",
    "ISC",
    "Zlib",        # for foldhash (hashbrown dependency)
    "CC0-1.0",     # for tiny-keccak (arrow/parquet transitive dependency)
    "Unicode-3.0", # for icu* crates (url/reqwest dependency)
]
confidence-threshold = 0.8

[bans]
multiple-versions = "warn"
wildcards = "allow"
highlight = "all"

[sources]
unknown-registry = "warn"
unknown-git = "warn"
allow-registry = ["https://github.com/rust-lang/crates.io-index"]
allow-git = []
